{% extends 'base.html' %}
{% block content %}
<!-- This example requires Tailwind CSS v2.0+ -->
<div class="relative bg-gray-50 pt-16 pb-20 px-4 sm:px-6 lg:pt-24 lg:pb-28 lg:px-8">
    <div class="absolute inset-0">
      <div class="bg-white h-1/3 sm:h-2/3"></div>
    </div>
    <div class="relative max-w-7xl mx-auto">
      <div class="text-center uppercase tracking-wider font-semibold text-primary-800">
        <h2 class="block text-3xl text-base text-center ">
          Welcome to Invest In Your Face
        </h2>
        <p class="mt-3 max-w-2xl mx-auto text-xl text-gray-500 sm:mt-4 ">
          Check out my latest blog posts
        </p>
      </div>
      <div class="mt-12 max-w-lg mx-auto grid gap-5 lg:grid-cols-3 lg:max-w-none">
        {% for post in posts %}
  
        <div class="flex flex-col rounded-lg shadow-lg overflow-hidden">
          <div class="flex-shrink-0">
            <img class="h-48 w-full object-cover" src="{{ post.image.url }}" alt="">
          </div>
          <div class="flex-1 bg-white p-6 flex flex-col justify-between">
            <div class="flex-1">
              <p class="text-sm font-medium text-primary-800">
                <a href="#" class="hover:underline">
                    <!-- FIXME MAKE TAGS APPEAR -->
                  {{ post.tags }}
                </a>
              </p>
              <a href="{% url 'post-detail' post.slug %}" class="block mt-2">
                <p class="text-xl font-semibold text-gray-900">
                  {{ post.title }}
                </p>
                <p class="mt-3 text-base text-gray-500">
                  {{ post.blurb }}
                </p>
              </a>
            </div>
            <div class="mt-6 flex items-center">
              <div class="ml-3">
                <div class="flex space-x-1 text-sm text-gray-500">
                  <time datetime="2020-03-10">
                    {{ post.date }}
                  </time>
                </div>
              </div>
            </div>
          </div>
        </div>
  
       {% endfor %}
      </div>
    </div>
  </div>

  <section>
    <div class="items-center relative py-16 bg-white overflow-hidden">
        <div class="hidden lg:block lg:absolute lg:inset-y-0 lg:h-full lg:w-full">
          <div class="relative h-full text-lg max-w-prose mx-auto" aria-hidden="true">
            <svg class="absolute top-12 left-full transform translate-x-32" width="404" height="384" fill="none" viewBox="0 0 404 384">
              <defs>
                <pattern id="74b3fd99-0a6f-4271-bef2-e80eeafdf357" x="0" y="0" width="20" height="20" patternUnits="userSpaceOnUse">
                  <rect x="0" y="0" width="4" height="4" class="text-gray-200" fill="currentColor" />
                </pattern>
              </defs>
              <rect width="404" height="384" fill="url(#74b3fd99-0a6f-4271-bef2-e80eeafdf357)" />
            </svg>
            <svg class="absolute top-1/2 right-full transform -translate-y-1/2 -translate-x-32" width="404" height="384" fill="none" viewBox="0 0 404 384">
              <defs>
                <pattern id="f210dbf6-a58d-4871-961e-36d5016a0f49" x="0" y="0" width="20" height="20" patternUnits="userSpaceOnUse">
                  <rect x="0" y="0" width="4" height="4" class="text-gray-200" fill="currentColor" />
                </pattern>
              </defs>
              <rect width="404" height="384" fill="url(#f210dbf6-a58d-4871-961e-36d5016a0f49)" />
            </svg>
          </div>
        </div>
        <div class="relative px-4 sm:px-6 lg:px-8">
          <div class="text-lg max-w-prose mx-auto">
            <h1>
              <span class="block text-base text-center text-purple-800 tracking-wider"><span class="uppercase font-semibold">Watch My Latest Video</span>
              <span class="mt-2 block text-3xl text-center leading-8 tracking-wider text-gray-900 sm:text-4xl"><span>{% for item in res_data.items %} {{ item.snippet.title }} {% endfor %}</span>
            </h1>
          </div>
          <div class="grid place-items-center mt-6 prose prose-primary-800 prose-lg text-gray-500 mx-auto">
            <div class="relative mx-auto w-full rounded-lg shadow-lg lg:max-w-md">
              <button type="button" class="relative block w-full bg-white rounded-lg overflow-hidden focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-800">
                <span class="sr-only">Watch my latest video</span>
                <figure>
                  {% for item in res_data.items %}
                  <iframe
                    class="w-full rounded-lg"
                    width="560"
                    height="314"
                    src="https://www.youtube.com/embed/{{ item.id.videoId }}"
                    srcdoc="<style>*{padding:0;margin:0;overflow:hidden}html,body{height:100%}img,span{position:absolute;width:100%;top:0;bottom:0;margin:auto}span{height:1.5em;text-align:center;font:48px/1.5 sans-serif;color:white;text-shadow:0 0 0.5em black}</style><a href=https://www.youtube.com/embed/{{ item.id.videoId }}?autoplay=1><img  src={{ item.snippet.thumbnails.high.url }} alt='{{ item.snippet.title }}'><span>â–¶</span></a>"
                    frameborder="0"
                    allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"
                    allowfullscreen
                    title="{{ item.snippet.title }}"
                  ></iframe>
                  <figcaption>{{ item.snippet.description }}</figcaption>
                  {% endfor %}
              </figure>                
              </button>
            </div>
          </div>
        </div>
      </div>
  </section>
{% endblock %}